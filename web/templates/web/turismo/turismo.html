{% extends 'web/base.html' %}
{% load staticfiles %}
{%block stylesheet %}
	<link rel="stylesheet" href="{% static 'css/estilosTurismoDetalle.css' %}">
{% endblock stylesheet%}
{% block content %}
<div class="container" style="background-color:white;"> 
{% include "web/includes/menu.html" %}	
	<div class="row">
		<div class="col-md-12" style="text-align:center;">
			<h3>{{ sitio.nombreSitio }}</h3>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div id="imagen"><img src="{% static sitio.imagen %}" align="middle"/></div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12" style="text-align:center;">
			<div id="direccion">{{ sitio.direccion }}</div>
			<div>{{ sitio.descripcion }}</div>
		</div>
	</div>
	<div id="googleMap" style="width:100%;height:400px;"></div>
</div>
{% block scriptBody %}
	<script src="http://maps.google.com/maps/api/js?key=AIzaSyCEawu2d20iAePS6ImLYqVvFiQ_u47Q1ys&callback=map" type="text/javascript"></script>
	<script>
		function map() {
			var geocoder = new google.maps.Geocoder();
            var direccion = $("#direccion").text();		
            geocoder.geocode({ 'address': direccion }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    latitude = results[0].geometry.location.lat();
                    longitude = results[0].geometry.location.lng();
					var myCenter = new google.maps.LatLng(latitude, longitude);
					var mapCanvas = document.getElementById("googleMap");
					var mapOptions = {center: myCenter, zoom: 15};
					var map = new google.maps.Map(mapCanvas, mapOptions);
					var marker = new google.maps.Marker({position:myCenter});
					marker.setMap(map);
					
                } else {
                    alert("Request failed.")					
                }
            });
						
		}
</script>
{% endblock scriptBody %}
{% endblock content %}